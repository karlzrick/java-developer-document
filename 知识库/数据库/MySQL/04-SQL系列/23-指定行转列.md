DDL

```
CREATE TABLE `t_test_row_to_col` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `course` varchar(255) DEFAULT NULL,
  `score` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;
```

DML

```
insert into t_test_row_to_col(name,course,score) values ('张三','语文',120);
-- insert into t_test_row_to_col(name,course,score) values ('张三','语文',140);
insert into t_test_row_to_col(name,course,score) values ('张三','数学',100);
insert into t_test_row_to_col(name,course,score) values ('张三','英语',82);
insert into t_test_row_to_col(name,course,score) values ('李四','语文',89);
insert into t_test_row_to_col(name,course,score) values ('李四','数学',99);
insert into t_test_row_to_col(name,course,score) values ('李四','英语',87);
insert into t_test_row_to_col(name,course,score) values ('王五','语文',78);
insert into t_test_row_to_col(name,course,score) values ('王五','数学',85);
insert into t_test_row_to_col(name,course,score) values ('王五','英语',145);
insert into t_test_row_to_col(name,course,score) values ('王五','物理',40);
insert into t_test_row_to_col(name,course,score) values ('王五','化学',62);
```

DQL

> tips: `IFNULL(GROUP_CONCAT(xx, 默认值) as 字段名` 仅适用于每个用户的行类型只有1条数据，不存在多条数据（eg：张三的语文成绩有多条情况）。

```
SELECT
    name,
    IFNULL(GROUP_CONCAT( CASE WHEN course = '语文'  THEN score END), 0 )  AS 语文,
    IFNULL(GROUP_CONCAT( CASE WHEN course = '数学'  THEN score END), 0 )  AS 数学,
    IFNULL(GROUP_CONCAT( CASE WHEN course = '物理'  THEN score END), 0 )  AS 物理,
    IFNULL(GROUP_CONCAT( CASE WHEN course = '化学'  THEN score END), 0 )  AS 化学
FROM
    t_test_row_to_col
GROUP BY name;
```

结果：
![](./images/23-指定行转列-1737197172501.png)
